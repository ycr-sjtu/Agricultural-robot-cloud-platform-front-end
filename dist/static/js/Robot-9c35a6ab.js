import{g as B,s as D,r as P}from"./robot-23da3ee1.js";import{_ as R,j as o,q as $,r as u,o as j,c as A,a as h,b as e,w as a,d as x,v as E,x as G}from"./index-74d3516f.js";import"./request-8ee4a93e.js";const I={class:"content"},L={class:"submit"},M={class:"table"},T={__name:"Robot",setup(F){const p=o(1),_=o(10),g=o(0),C=o("未知类型"),n=o([]),m=o([]),i=()=>{B({pageNum:p.value,pageSize:_.value,category_2:C.value}).then(t=>{n.value=t.data.data.records,g.value=t.data.data.total;for(let l in n.value)n.value[l].url!=null&&n.value[l].url!=""&&m.value.push(n.value[l].url);console.log("url_list = ",m.value)})},z=t=>{_.value=t,i(),console.log(`${t} items per page`)},V=t=>{p.value=t,i(),console.log(`current page: ${t}`)};$(()=>{i()});const c=o({lng:"",lat:""}),y=()=>{D(c.value).then(t=>{t.data=="新增成功"?(alert("新增成功"),i(),f()):alert("新增失败")})},S=t=>{P(t).then(l=>{l.data=="删除成功"?(alert("删除成功"),i(),f()):alert("删除失败")})};o({lng:0,lat:0}),o(3);const N=o([]),f=()=>{const t=[];for(let l in n.value)t.push({lng:n.value[l].lng,lat:n.value[l].lat});N.value=t};return(t,l)=>{const v=u("el-input"),d=u("el-form-item"),b=u("el-button"),k=u("el-form"),r=u("el-table-column"),U=u("el-popconfirm"),q=u("el-table"),w=u("el-pagination");return j(),A("div",I,[h("div",L,[e(k,{inline:!0,model:c.value,class:"form"},{default:a(()=>[e(d,{label:"经度"},{default:a(()=>[e(v,{modelValue:c.value.lng,"onUpdate:modelValue":l[0]||(l[0]=s=>c.value.lng=s),placeholder:"-180~180"},null,8,["modelValue"])]),_:1}),e(d,{label:"纬度"},{default:a(()=>[e(v,{modelValue:c.value.lat,"onUpdate:modelValue":l[1]||(l[1]=s=>c.value.lat=s),placeholder:"-90~90"},null,8,["modelValue"])]),_:1}),e(d,null,{default:a(()=>[e(b,{type:"primary",onClick:y},{default:a(()=>[x("提交")]),_:1})]),_:1})]),_:1},8,["model"])]),h("div",M,[e(q,{data:n.value,stripe:""},{default:a(()=>[e(r,{label:"GPS坐标",align:"center"},{default:a(()=>[e(r,{prop:"lng",label:"经度",align:"center"}),e(r,{prop:"lat",label:"纬度",align:"center"})]),_:1}),e(r,{label:"频率",align:"center"},{default:a(()=>[e(r,{prop:"freq1",label:"频率1",align:"center"}),e(r,{prop:"freq2",label:"频率2",align:"center"})]),_:1}),e(r,{prop:"vel",label:"速度",align:"center"}),e(r,{prop:"time",label:"记录时间",align:"center"}),e(r,{fixed:"right",label:"操作",align:"center"},{default:a(s=>[e(U,{"confirm-button-text":"是","cancel-button-text":"否",icon:E(G),"icon-color":"red",title:"确定删除用户？",onConfirm:H=>S(s.row.id)},{reference:a(()=>[e(b,{type:"danger",size:"small"},{default:a(()=>[x("删除")]),_:1})]),_:2},1032,["icon","onConfirm"])]),_:1})]),_:1},8,["data"])]),e(w,{class:"page","current-page":p.value,"onUpdate:currentPage":l[2]||(l[2]=s=>p.value=s),"page-size":_.value,"onUpdate:pageSize":l[3]||(l[3]=s=>_.value=s),"page-sizes":[10,20,50,100],background:"",total:g.value,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:z,onCurrentChange:V},null,8,["current-page","page-size","total"])])}}},Q=R(T,[["__scopeId","data-v-10a8e221"]]);export{Q as default};
